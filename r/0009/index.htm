<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8" />
    <title>CRIATIVIDADE.digital - Quatro Patas</title>
    <link href="/stepbystep/css/instructions.css" rel="stylesheet" type="text/css" />
    <link href="/stepbystep/css/preview.css" rel="stylesheet" type="text/css" />
    <link href="/stepbystep/css/buttons.css" rel="stylesheet" type="text/css" />
    <link href="/stepbystep/css/options.css" rel="stylesheet" type="text/css" />
    <meta name="viewport" content="width=device-width" />
 		<!-- Global site tag (gtag.js) - Google Analytics -->
     <script async src="https://www.googletagmanager.com/gtag/js?id=UA-64612385-1"></script>
     <script>
       window.dataLayer = window.dataLayer || [];
       function gtag(){dataLayer.push(arguments);}
       gtag('js', new Date());
 
       gtag('config', 'UA-64612385-1');
     </script>

    <!-- Facebook Pixel Code -->
		<script>
			!function(f,b,e,v,n,t,s)
			{if(f.fbq)return;n=f.fbq=function(){n.callMethod?
			n.callMethod.apply(n,arguments):n.queue.push(arguments)};
			if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
			n.queue=[];t=b.createElement(e);t.async=!0;
			t.src=v;s=b.getElementsByTagName(e)[0];
			s.parentNode.insertBefore(t,s)}(window, document,'script',
			'https://connect.facebook.net/en_US/fbevents.js');
			fbq('init', '1593045684179127');
			fbq('track', 'PageView');
		</script>
		<noscript><img height="1" width="1" style="display:none"
			src="https://www.facebook.com/tr?id=1593045684179127&ev=PageView&noscript=1"
		/></noscript>
		<!-- End Facebook Pixel Code -->

</head>
  <body>
    
    <script src="/stepbystep/js/jquery.min.js"></script>
    <script src="/stepbystep/js/three.min.js"></script>
    <script src="/stepbystep/js/OrbitControls.js"></script>
    <script src="/stepbystep/js/CopyShader.js"></script>
    <script src="/stepbystep/js/Pass.js"></script>
    <script src="/stepbystep/js/OutlinePass.js"></script>
    <script src="/stepbystep/js/ShaderPass.js"></script>
    <script src="/stepbystep/js/RenderPass.js"></script>
    <script src="/stepbystep/js/MaskPass.js"></script>
    <script src="/stepbystep/js/EffectComposer.js"></script>
    <script src="/stepbystep/js/colors.js"></script>
    <script src="/stepbystep/js/LDRShaders.js"></script>    
    <script src="/stepbystep/js/LDRColorMaterials.js"></script>
    <script src="/stepbystep/js/pli.js"></script>
    <script src="/stepbystep/js/LDRSVG.js"></script>
    <script src="/stepbystep/js/LDROptions.js"></script>
    <script src="/stepbystep/js/ClientStorage.js"></script>
    <script src="/stepbystep/js/LDRGeometries.js"></script>
    <script src="/stepbystep/js/LDRLoader.js"></script>
    <script src="/stepbystep/js/LDRStepHandler.js"></script>
    <script src="/stepbystep/js/RectanglePacking.js"></script>
    <script src="/stepbystep/js/LDRPLIBuilder.js"></script>
    <script src="/stepbystep/js/LDRPLIPreview.js"></script>
    <script src="/stepbystep/js/LDRButtons.js"></script>
    <script src="/stepbystep/js/LDRMeasurer.js"></script>
    <script src="/stepbystep/js/LDRColorPicker.js"></script>
    <script src="/stepbystep/js/LDRStepEditor.js"></script>
    <script src="/stepbystep/js/LDRGenerator.js"></script>
    <script src="/stepbystep/js/LDRStuds.js"></script>
    <script src="/stepbystep/js/LDRAssemblies.js"></script>
    <script src="/stepbystep/js/LDRInstructionsManager.js"></script>

    <div id="main_canvas_holder">
     <canvas id="main_canvas"></canvas>
     <div id="instructions_decorations">
      <span id="empty_step">EMPTY STEP</span>
      <canvas id="pli"></canvas>
      <div id="pli_drag_horizontal" class="ui_control"></div>
      <div id="pli_drag_vertical" class="ui_control"></div>
      <span class="decoration_holder">
       <div id="multiplier">x1</div>
      </span>
      <span class="decoration_holder">
       <div id="rotator">
         <svg viewbox="-52,-52,104,104" fill="none" stroke="black" stroke-width="12">
          <g id="full_arrow">
           <path id="half_arrow" d="M 25,-14 40,-10 48,-23 M 40,-10 C 30,-50 -30,-50 -40,-10 M 40,-10 Z" />
           <g transform="scale(-1 -1)">
            <use xlink:href="#half_arrow"/>
           </g>
          </g>
          <animateTransform 
           xlink:href="#full_arrow"
           attributeName="transform" 
           attributeType="XML"
           id="rotator_animation"
           type="rotate"
           from="0 0 0"
           to="180 0 0"
           dur="0.4s"
           begin="0"
           repeatCount="1"
           fill="freeze" />
         </svg>
       </div>
      </span>
     </div>
    </div>
    <div id="pli_preview_section">
        <div id="preview_background" class="background" onclick="manager.hidePliPreview();"></div>
        <div id="preview_holder" class="holder">
          <div id="preview_parent"><canvas id="secondary_canvas"></canvas></div>
	  <div id="preview_info">
	    <span class="preview_info_line">
	     <span id="preview_info_name">PART NAME</span>
	     <a id="preview_info_bh_link" href="" target="_blank">Go to part</a>
	     or
	     <a id="preview_info_bl_link" href="" target="_blank">See on BrickLink</a>
            </span>
	    <span class="preview_info_line">LDraw color: <div id="preview_info_color_ldraw">LDR COLOR</div></span>
	    <span class="preview_info_line">LEGO/LDD color: <div id="preview_info_color_lego">LDD COLOR</div></span>
            <span class="preview_info_line">Bricklink: <div id="preview_info_id_bricklink">ID</div> in color <div id="preview_info_color_bricklink">COLOR</div></span>
	  </div>
        </div>
    </div>
    <div id="done_section">
        <div id="done_background" onclick="manager.hideDone();"></div>
        <div id="done_holder" class="holder"></div>
    </div>
    <div id="color_picker">
        <div id="color_picker_background" class="background" onclick="$('#color_picker').hide();"></div>
        <div id="color_picker_holder" class="holder"></div>
    </div>
    <div id="green">
      <div id="editor"></div>
    </div>
    <div id="options" /></div>
    <script>
      var model = 'cadeirante.ldr'; 


      var baseURL = 'index.htm?step='; // Change this line so it fits the page that renders instructions for you (probably not 'sample_instructions.htm')
      var manager;

      $(function() {
        let options = {
          canEdit: false, // Show editor options
          buildAssemblies: true, // Assemble parts, such as minifig torsos and legs
          key: model,
          adPeek: 0, // Show a bar below to contain editor options - set to roughly 120 if canEdit is set to true
          setUpOptions: false, // Show button options below.
          showNumberOfSteps: true,
          //@#@ 
          pliMaxWidthPercentage: 30, // The maximum width of the PLI box in percentage of the screen width when the PLI box is shown on the left side.
          pliMaxHeightPercentage: 30, // The maximum height of the PLI box in percentage of the screen height when the PLI box is shown on top.
          timestamp: '1970-01-01 00:00:00' // Ensure that model can be retrieved from InstancedDB
        };

        // Get the requested step from the query parameters:
        let step = 1;
        let stepFromUrl = location.search.substr(1).split('&').map(x => x.split('=')).find(x => x[0] === 'step');
        if(stepFromUrl) step = stepFromUrl[1];

        manager = new LDR.InstructionsManager(model, '#', 14, null, ()=>{}, baseURL, step, options);
      });
    </script>
  </body>
</html>
